static long fn_A(long a,final long b){
  long c=0;
  for (long d=a; a > 0; a>>=1) {
    if ((((int)a) & 1) == 1) {
      c+=d;
      if (c >= b)       c-=b;
    }
    d<<=1;
    if (d >= b)     d-=b;
  }
  return c;
}
