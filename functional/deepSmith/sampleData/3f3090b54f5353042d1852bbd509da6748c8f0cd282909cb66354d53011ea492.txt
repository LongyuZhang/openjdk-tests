public static double fn_A(double a,double b,double c,double d){
  a+=(b - a) * c;
  if (a > b) {
    a-=d;
    if (a < b) {
      a=b;
    }
  }
 else   if (a < b) {
    a+=d;
    if (a > b) {
      a=b;
    }
  }
  return a;
}
