private static int fn_A(char a){
  if ((a >= '0') && (a <= '9')) {
    return a - '0';
  }
 else   if ((a >= 'a') && (a <= 'f')) {
    return a - 'a' + 10;
  }
 else   if ((a >= 'A') && (a <= 'F')) {
    return a - 'A' + 10;
  }
 else {
    throw new IllegalArgumentException("Not a hex char - '" + a + "'");
  }
}
